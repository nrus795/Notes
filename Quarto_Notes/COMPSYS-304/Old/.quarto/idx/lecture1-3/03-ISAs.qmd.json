{"title":"COMPSYS 304: Computer Architecture","markdown":{"headingText":"[Instruction Set Architecture (ISA)]{color=red}","containsRefs":false,"markdown":"\nAn ISA is the **interface between hardware and low-level software**\n\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxheadcol, title=Some modern instruction set architectures:, coltitle=boxtitlecol, colbacktitle=boxheadcol\"}\n[**80x86**]{color=red}, Itanium, PowerPC, [**MIPS**]{color=red}, SPARC, HP, [**ARM**]{color=red}, [**\\underline{RISC-V}**]{color=red}\n:::\n\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxheadcol, title=Issues with a fixed ISA:, coltitle=boxtitlecol, colbacktitle=boxheadcol\"}\n-   [**advantage:**]{color=red} different implementations of the same architecture\n\n::: {.tcolorbox options=\"oversize, left=11pt, right=11pt, colback=boxbodycol2, colframe=boxheadcol2, title=Example, coltitle=boxtitlecol2, colbacktitle=boxheadcol2\"}\n-   AMD and Intel chips use the same ISA, while their implementations are different.\n-   Pentium II and Celeron have different memory systems and different clock rates.\n-   Core i7, Core i5, Core i3, and Atom are different implementations of the same ISA (ignoring some ISA extensions).\n:::\n\n-   [**disadvantage:**]{color=red} sometimes prevents using new innovations.\n\n:::\n\n[**\\underline{ISA design:}**]{color=red} [\\textbf{What is needed to be included in each \\textit{\\underline{machine instruction?}}}]{color=blue}\n\n1.  What operation is to be performed by the CPU.\n\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\narithmetic/logic operations, data transfer, control transfer, etc.\n:::\n\n2.  How data for the operation can be provided.\n\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\nthrough memory, through CPU registers, encoded in the instruction word\n:::\n\n3.  How the result is to be stored.\n\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\nin memory or register\n:::\n\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxheadcol, title=\\\\textcolor{red}{\\\\textbf{Therefore, the ISA must define:}}, coltitle=boxtitlecol, colbacktitle=boxheadcol\"}\n-   The operation to be performed (***opcode***)\n-   Data type and size of operands\n-   Location of operands and results\n-   Instruction format or Encoding\n:::\n\n{{< pagebreak >}}\n\n## Classifying Instruction Set Architectures\n\nEach instruction has (an) [**opcode**]{color=red} which defines the type of operation and may have zero to three [**operands**]{color=red} for input data and the result destination.\n\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\nThe type storage used for operands is the most basic differentiation among different types of Instruction Set Architectures (ISA).\n\n-   operands from/to memory\n-   operands from/to registers\n-   operands from memory/to register or vice versa\n:::\n\n### [\\underline{Stack-based Architecture}]{color=red}\n\n::: {layout=\"[40,60]\" fig-pos=\"H\"}\n\n::: {#first-column}\n<!-- ! placeholder ! -->\n{{< placeholder >}}\n:::\n\n::: {#second-column}\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\nThe pointer to the ***top of the stack*** will be adjusted properly after completing the ALU (**A**rithmetic / **L**ogic **U**nit) operation to point to the result.\n:::\n\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\n**\\underline{Instruction:}**\\\n[**ADD**]{color=red}\\\n[**ADD**]{color=blue} has three implicit operands, which are from/to the **stack**.\n:::\n:::\n:::\n\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\nTwo special instructions [**PUSH**]{color=red} and [**POP**]{color=red} are used to write into the top of the stack or read from the top of the stack respectively. The ***stack pointer*** will be adjusted properly after completing these operations.\n:::\n\n### [\\underline{Accumulator-based Architecture}]{color=red}\n\n::: {layout=\"[40,60]\" fig-pos=\"H\"}\n\n::: {#first-column}\n<!-- ! placeholder ! -->\n{{< placeholder >}}\n:::\n\n:::{#second-column}\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\n**\\underline{Instruction:}**\\\n[**ADD**]{color=red}    ***mem_address***\\\n[**ADD**]{color=blue} has two implicit operands (Accumulator register) and one explicit operand (memory).\n:::\n:::\n:::\n\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\nTwo special instructions [**LOAD**]{color=red} and [**STORE**]{color=red} are used to read from the memory (i.e. copy the contents of the given memory location into accumulator register), and write into memory (i.e. copy the contents of the accumulator into given memory location) respectively.\n:::\n\n### [\\underline{Register-Memory Architecture}]{color=red}\n\n::: {layout=\"[40,60]\" fig-pos=\"H\"}\n\n:::{#first-column}\n<!-- ! placeholder ! -->\n{{< placeholder >}}\n:::\n\n:::{#second-column}\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\n**\\underline{Instruction:}**\\\n[**ADD**]{color=red} **Rs**, **Rd** ***mem_address***\\\n[**ADD**]{color=blue} has three operands. [Rd]{color=red} and [Rs]{color=red} represent the destination and source registers respectively. The other source operand is provided through memory.\n:::\n:::\n:::\n\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\nTwo special instructions [**LOAD**]{color=red} and [**STORE**]{color=red} are used to read from the memory (i.e. copy the contents of the given memory location into a given register), and write into memory (i.e. copy the contents of the specified register into given memory location) respectively.\n:::\n\n\n### [\\underline{Register-Register (load/store) Architecture}]{color=red}\n\n::: {layout=\"[40,60]\" fig-pos=\"H\"}\n\n:::{#first-column}\n<!-- ! placeholder ! -->\n{{< placeholder >}}\n:::\n\n::: {#second-column}\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\n**\\underline{Instruction:}**\\\n[**ADD**]{color=red} **Rs, Rd, Rt**\\\n[**ADD**]{color=blue} has three operands. [Rd]{color=red}, [Rs]{color=red}, and [Rt]{color=red} represent the destination and source registers respectively. \n:::\n:::\n:::\n\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\nTwo special instructions [**LOAD**]{color=red} and [**STORE**]{color=red} are used to read from the memory (i.e. copy the contents of the given memory location into a given register), and write into memory (i.e. copy the contents of the specified register into given memory location) respectively.\n:::\n\n::: {.tcolorbox options=\"colback=boxbodycol2, colframe=boxheadcol2, title=Example, coltitle=boxtitlecol2, colbacktitle=boxheadcol2\"}\nWrite the instructions for the expression $\\textcolor{red}{\\textbf{C = A + B}}$ for the four classes of instruction sets. It is assumed that A, B and C are located in memory addresses 1000, 2000 and 3000 respectively.\n:::\n\n::: {layout=\"[65,35]\" valign=\"center\"}\n:::{#first-column}\n[**(a) Stack-based architecture**]{color=red}\\\n<!-- ! placeholder ! -->\n{{< placeholder >}}\n:::\n\n::: {#second-column}\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\n[**PUSH 1000**]{color=blue}\\\n[**PUSH 2000**]{color=blue}\\\n[**ADD**]{color=blue}\\\n[**POP 3000**]{color=blue} \n:::\n:::\n:::\n\n:::{layout=\"[65,35]\" valign=\"center\"}\n:::{#first-column}\n[**(b) Accumulator-based architecture**]{color=red}\\\n<!-- ! placeholder ! -->\n{{< placeholder >}}\n:::\n\n:::{#second-column}\n:::{.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\n[**LOAD 1000**]{color=blue}\\\n[**ADD 2000**]{color=blue}\\\n[**STORE 3000**]{color=blue}\n:::\n:::\n:::\n\n:::{layout=\"[65,35]\" valign=\"center\"}\n:::{#first-column}\n[**(c) Register-Memory architecture**]{color=red}\\\n<!-- ! placeholder ! -->\n{{< placeholder >}}\n:::\n\n:::{#second-column}\n:::{.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\n[**LOAD R1, 1000**]{color=blue}\\\n[**ADD R2, R1, 2000**]{color=blue}\\\n[**STORE R2, 3000**]{color=blue}\n:::\n:::\n:::\n\n::: {layout=\"[65,35]\" valign=\"center\"}\n::: {#first-column}\n[**(d) Register-Register (load/store) architecture**]{color=red}\\\n<!-- ! placeholder ! -->\n{{< placeholder >}}\n:::\n\n::: {#second-column}\n::: {.tcolorbox options=\"colback=boxbodycol, colframe=boxbodycol\"}\n[**LOAD R1, 1000**]{color=blue}\\\n[**LOAD R2, 2000**]{color=blue}\\\n[**ADD R3, R1, R2**]{color=blue}\\\n[**STORE R3, 3000**]{color=blue}\n:::\n:::\n:::\n\n{{< pagebreak >}}\n### [\\underline{Summary}:]{color=red} Different types of ISA\n:::{layout=\"[[1,1],[1,1]]\" valign=\"center\"}\n\n:::{#r1c1}\n[**Stack-based architecture**]{color=red}\\\n<!-- ! placeholder ! -->\n{{< placeholder >}}\n:::\n\n:::{#r1c2}\n[**Accumulator-based architecture**]{color=red}\\\n<!-- ! placeholder ! -->\n{{< placeholder >}}\n:::\n\n:::{#r2c1}\n[**Register-Memory architecture**]{color=red}\\\n<!-- ! placeholder ! -->\n{{< placeholder >}}\n:::\n\n:::{#r2c2}\n[**Register-Register (load/store) architecture**]{color=red}\\\n<!-- ! placeholder ! -->\n{{< placeholder >}}\n:::\n\n:::\n\n\n\n","srcMarkdownNoYaml":""},"formats":{"pdf":{"identifier":{"display-name":"PDF","target-format":"pdf","base-format":"pdf"},"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":true,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":true,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"latexmk","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","include-in-header":["../preamble.tex"],"filters":["color-filter","latex-environment"],"pdf-engine-opts":["-synctex=1","-interaction=nonstopmode","-file-line-error","-lualatex","-shell-escape"],"toc":true,"toc-depth":3,"number-sections":true,"output-file":"03-ISAs.pdf"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"block-headings":true,"environments":["tcolorbox"],"title":"COMPSYS 304: Computer Architecture","subtitle":"Lecture Notes","author":"Nicholas Russell","date":"09/03/2024","date-format":"full","hyperrefoptions":["pdfpagelabels"],"documentclass":"scrreprt","fontsize":"14pt","papersize":"a4","pagestyle":"plain","classoption":["headinclude=true","footinclude=true"],"geometry":["top=2.5cm","bottom=2.5cm","left=1.5cm","right=1.5cm","marginparsep=2cm"],"fontfamily":"lmodern"},"extensions":{"book":{"selfContainedOutput":true}}}},"projectFormats":["pdf"]}