{"title":"COMPSYS 303: Microcomputers and Embedded Systems","markdown":{"headingText":"Embedded Control Systems 2","containsRefs":false,"markdown":"<!-- lecture7_embedded_control2.qmd -->\n\n\n## Introduction to Embedded Control Systems\n\nIn this lecture, we focused on advanced topics in **embedded control systems**, including **PWM control**, **stepper motors**, **PID control**, and **ADC technologies**. These components play a critical role in achieving accurate and efficient control in real-time embedded applications (Slide 2).\n\n## Pulse-Width Modulation (PWM)\n\n**Pulse-Width Modulation (PWM)** is a technique used to simulate an analog signal using digital means by varying the duty cycle of a digital pulse (Slide 5).\n\n-   **Duty Cycle**: The percentage of time the signal remains high during a cycle determines the average voltage output. A higher duty cycle implies higher average power delivered, which is crucial in controlling actuators like DC motors and LEDs (Slide 7).\n\n-   **Fast PWM vs Phase-Correct PWM**: There are different types of PWM modes. **Fast PWM** operates at a higher frequency to minimize flickering, while **Phase-Correct PWM** maintains symmetry in the signal waveform, which is often better for controlling motors with less noise (Slide 8).\n\n## DC and Stepper Motors\n\n### DC Motors\n\n**DC Motors** are widely used for their simplicity and ease of control. Speed control is achieved by modulating the voltage applied to the motor, which is often implemented through PWM. The relationship between PWM duty cycle and motor speed is usually non-linear, requiring careful tuning to achieve precise control (Slide 10).\n\n**Motor Driver Circuitry**: To drive DC motors, **H-bridges** are commonly used. An H-bridge allows for directional control by reversing the current flow through the motor, enabling forward and reverse motion (Slide 11).\n\n### Stepper Motors\n\n**Stepper Motors** are used when precise control of angular position is required. Each pulse sent to the motor corresponds to a fixed angular movement, allowing fine control over its rotation (Slide 12).\n\n-   **Types of Stepper Motors**: Two main types include **unipolar** and **bipolar** stepper motors, each with distinct wiring configurations and driving requirements (Slide 13).\n\n-   **Stepper Motor Control**: To control the stepper motor, sequences of pulses must be sent in the correct order to energize the windings and produce the desired stepping motion. This is typically achieved using a **stepper motor driver**, which abstracts the complexity of pulse timing (Slide 14).\n\n## PID Control\n\n**Proportional-Integral-Derivative (PID) Control** is a control loop mechanism widely used in industrial control systems to achieve desired system behavior.\n\n-   **Proportional Control (P)**: The **proportional** term produces an output value proportional to the current error value. If the error is large, the control response is also large. This helps in reducing the response time but may lead to instability if used alone (Slide 17).\n\n-   **Integral Control (I)**: The **integral** term sums the error over time, addressing the **steady-state error** by accumulating corrections until the desired setpoint is achieved. This component helps eliminate any residual error that remains after the proportional action has been applied (Slide 18).\n\n-   **Derivative Control (D)**: The **derivative** term considers the rate of change of the error, providing a damping effect that reduces overshoot. It predicts future error and helps the system respond more smoothly, avoiding large fluctuations (Slide 19).\n\n**Tuning PID Parameters**: Tuning the PID parameters ($K_p$, $K_i$, and $K_d$) is crucial for optimal system performance. Methods like **Ziegler-Nichols** can be used to empirically determine the ideal values, balancing response speed, stability, and accuracy (Slide 20).\n\n## Analog-to-Digital Conversion (ADC)\n\n**Analog-to-Digital Converters (ADC)** are used to digitize analog signals so that they can be processed by digital controllers. ADCs are critical in embedded control systems where signals like temperature, pressure, or speed need to be sampled and processed (Slide 22).\n\n**Quantization and Resolution**: The resolution of an ADC refers to the number of discrete levels used to represent the analog input. A higher resolution means better accuracy but increased cost and complexity. For instance, a 12-bit ADC provides $2^{12}$ quantization levels, which significantly improves signal representation over an 8-bit ADC (Slide 23).\n\n**Sampling Rate**: The sampling rate must be at least twice the highest frequency of the input signal to prevent **aliasing** (Nyquist criterion). If the sampling rate is insufficient, aliasing can lead to distorted signals that compromise control accuracy (Slide 24).\n\n-   **Types of ADC Technologies**:\n\n    -   **Successive Approximation Register (SAR)**: A commonly used ADC type that offers a good balance between speed and accuracy. The SAR ADC works by iteratively approximating the input signal, which makes it suitable for medium-speed applications (Slide 25).\n\n    -   **Sigma-Delta ADC**: Provides very high resolution but at the cost of slower conversion speed, often used in applications where precision is more critical than speed, such as audio signal processing (Slide 26).\n\n    -   **Flash ADC**: The fastest type of ADC, using a parallel set of comparators to convert the analog signal in a single step. However, it requires a large number of comparators, making it expensive and power-hungry, suitable for high-speed applications (Slide 27).\n\n## Practical Considerations in Embedded Control Systems\n\n**Noise Handling**: Analog signals are often susceptible to noise. Techniques such as **filtering** and **shielded cabling** are used to mitigate noise effects, ensuring that the ADC accurately captures the intended signal without distortion (Slide 29).\n\n**Anti-Aliasing Filters**: To prevent aliasing, **low-pass filters** are often used before the ADC to remove high-frequency components that could interfere with accurate sampling (Slide 30).\n\n## Case Study: Motor Speed Control\n\n**Objective**: The case study presented a practical example of motor speed control using a combination of PWM and PID control (Slide 32).\n\n**Implementation**: The motor speed is monitored using an **optical encoder**, which provides feedback to the PID controller. The PID controller adjusts the PWM duty cycle to minimize the speed error and maintain the desired speed despite varying load conditions (Slide 33).\n\n**Challenges**: Tuning the PID parameters was a challenge due to the non-linearities in motor response and the presence of external disturbances. Real-world control systems often require iterative tuning to balance response time, overshoot, and stability (Slide 34).\n\n## Conclusion\n\nThis lecture expanded on the foundational knowledge of embedded control systems by introducing practical components like **PWM**, **stepper motors**, **PID controllers**, and **ADCs**. Understanding these components and their interactions is essential for designing robust and efficient control systems. Future lectures will focus on more advanced topics such as **real-time operating systems (RTOS)**, **sensor fusion**, and **model predictive control (MPC)**, which are critical for modern, complex embedded control applications.","srcMarkdownNoYaml":""},"formats":{"pdf":{"identifier":{"display-name":"PDF","target-format":"pdf","base-format":"pdf"},"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":true,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":true,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":false,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"latexmk","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","include-in-header":["../preamble.tex"],"pdf-engine-opts":["-synctex=1","-interaction=nonstopmode","-file-line-error","-lualatex","-shell-escape"],"toc":true,"toc-depth":3,"number-sections":true,"output-file":"lecture7_embedded_control2.pdf"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"block-headings":true,"title":"COMPSYS 303: Microcomputers and Embedded Systems","subtitle":"Lecture Notes","author":"Nicholas Russell","date":"10/05/2024","date-format":"full","hyperrefoptions":["pdfpagelabels"],"documentclass":"scrreprt","fontsize":"14pt","papersize":"a4","pagestyle":"plain","classoption":["headinclude=true","footinclude=true","DIV=calc"],"geometry":["top=3cm","bottom=3cm","left=1.5cm","right=1.5cm"],"fontfamily":"lmodern"},"extensions":{"book":{"selfContainedOutput":true}}}},"projectFormats":["pdf"]}